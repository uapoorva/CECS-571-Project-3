<!DOCTYPE html>
<html>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.css"
  />
  <style>
    table {
      font-family: Arial, Helvetica, sans-serif;
      border-collapse: collapse;
      width: 50%;
    }

    table td, table th {
      border: 1px solid #ddd;
      padding: 8px;
    }

    table tr:nth-child(even){background-color: #E1E6FF;}

    table tr:hover {background-color: #C3CAFF;}

    table th {
      padding-top: 12px;
      padding-bottom: 12px;
      text-align: left;
      background-color: #6c7ae0;
      color: white;
    }
    div.heading1{
    	text-align: center;
    	color: White;
    	text-shadow: 2px 2px 4px #000000;
    	height: 100px;
    	weight: 1000px;
    	background-image: linear-gradient(to right, rgba(255,0,0,0), rgba(255,0,0,1));
    	background-repeat: None
    	background-size: 957px 100px
    }
    img.a{
      display: block;
      margin-left: auto;
      margin-right: auto;
      border:5px solid #555;
    }
    html {
      box-sizing: border-box;
    }

    *, *:before, *:after {
      box-sizing: inherit;
    }
    .column {
      float: left;
      width: 25%;
      margin-bottom: 16px;
      padding: 0 8px;
    }

    .card {
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
    }

    .container1 {
      padding: 0 16px;
    }

    body{
    	background-color: Antique White;
    }
  </style>
  <body>
    <div class="heading1">
      <h1>CECS 571 Fundamentals of Semantic Web Technologies</h1>
      <h2>Semantic Data Retrieval</h2>
    </div>
    <br />
    <br />
    <div style="text-align: center">
      <button onclick="showPopulationByState()">Population by State</button>
      <button onclick="showExpenditureByState()">Expenditure by State</button>
      <button onclick="showVetAge()">Veterans By Age</button>
      <button onclick="showVetCases()">Veteran Cases</button>
      <button onclick="showVetPerStaff()">Veterans per Staff</button>
    </div>
    <div class="showDiv">
      <p></p>
      <button></button>
      <table class="t"></table>
    </div>
    <!-- <div hidden>
      <p>Expenditure by State</p>
      <table class="expenditureByState"></table>
    </div>
    <div hidden>
      <p>Veterans By Age</p>
      <table class="vetAge"></table>
    </div>
    <div hidden>
      <p>Veteran Cases</p>
      <table class="vetCases"></table>
    </div>
    <div hidden>
      <p>Veterans per Staff</p>
      <table class="vetPerStaff"></table>
    </div> -->
  </body>
  <script>
    function emptyDiv() {
      let p = document.querySelector(".showDiv p");
      p.innerHTML = "";
      let table = document.querySelector(".showDiv table");
      table.innerHTML = "";
    }
    function showButtons() {
      let b = document.querySelector(".showDiv button");
      b.innerHTML = "Query results";
    }
    function showPopulationByState() {
      emptyDiv();
      fetchFunction("/populationByState");
    }
    function showExpenditureByState() {
      emptyDiv();
      fetchFunction("/expenditureByState");
    }
    function showVetAge() {
      emptyDiv();
      fetchFunction("/vetByAge");
    }
    function showVetCases() {
      emptyDiv();
      fetchFunction("/vetCases");
    }
    function showVetPerStaff() {
      emptyDiv();
      fetchFunction("/vetPerStaff");
    }

    /*fetch('/expenditureByState')
    .then(function (response) {
        return response.json(); 
    }) 	
    .then(function (st) {
     console.log(st);
	 //var table = document.createElement('tabe');
	 var t = document.getElementsByClassName("vetAge")[0]
	 var tr = document.createElement('tr');
	 for(var i=0;i<st[0].length;i++){
		var th = document.createElement('th');
		th.appendChild(document.createTextNode(st[0][i]));
		tr.appendChild(th);
	 }
	 t.appendChild(tr);
for (var i = 1; i < st.length; i++){
    var tr = document.createElement('tr');   
for(var j=0;j<st[0].length;j++){
	    var td1 = document.createElement('td');
		var text1 = document.createTextNode(st[i][j]);
	    td1.appendChild(text1);
		tr.appendChild(td1);

}
  
    t.appendChild(tr);
}
		});*/
    function fetchFunction(inp) {
      fetch(inp)
        .then(function (response) {
          return response.json();
        })
        .then(function (st) {
          console.log(st);
          showButtons();
          //var table = document.createElement('table');
          var t = document.getElementsByClassName("t")[0];
          var tr = document.createElement("tr");
          for (var i = 0; i < st[0].length; i++) {
            var th = document.createElement("th");
            th.appendChild(document.createTextNode(st[0][i]));
            tr.appendChild(th);
          }
          t.appendChild(tr);
          for (var i = 1; i < st.length; i++) {
            var tr = document.createElement("tr");
            for (var j = 0; j < st[0].length; j++) {
              var td1 = document.createElement("td");
              var text1 = document.createTextNode(st[i][j]);
              td1.appendChild(text1);
              tr.appendChild(td1);
            }

            t.appendChild(tr);
          }
        });
    }
  </script>
</html>
